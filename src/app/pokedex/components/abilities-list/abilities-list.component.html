<div class="dex-scene">
    <div class="dex-card">
        <div class="dex-header">
            <div class="dex-button" aria-hidden="true"></div>
            <div class="dex-lights" aria-hidden="true">
                <span class="led led-red"></span>
                <span class="led led-yellow"></span>
                <span class="led led-green"></span>
            </div>
            <h1>Talents</h1>
        </div>

        <div class="dex-body">
            <div class="dex-screen field-page">
                <nav class="quick-nav">
                    <a class="nav-chip nav-yellow"   routerLink="/pokedex"            title="Retour">
                        ðŸ”™ <span>Retour</span>
                    </a>
                    <a class="nav-chip nav-blue"    routerLink="/pokedex/pokemons"      title="Liste des PokÃ©mons">
                        ðŸ§¬ <span>PokÃ©mons</span>
                    </a>
                    <a class="nav-chip nav-red" routerLink="/pokedex/moves"  title="Liste des CapacitÃ©s">
                        âš¡ <span>CapacitÃ©s</span>
                    </a>
                    <a class="nav-chip nav-green"  routerLink="/pokedex/docs"       title="Documentations">
                        ðŸ“˜ <span>Docs</span>
                    </a>
                </nav>

                <div class="abilities-toolbar">
                    <input type="search"
                            placeholder="Rechercher un talentâ€¦"
                            (input)="query(($any($event.target).value))" />

                    <select (change)="selectSort(($any($event.target).value))">
                        <option value="id">Trier par #</option>
                        <option value="name">Trier par nom</option>
                    </select>
                </div>

                @if (!loading() && list().length === 0) {
                    <p>Aucun talent ne correspond Ã  la recherche.</p>
                }

                @if (!loading() && list().length > 0) {
                    <table class="pokedex-table abilities-table">
                        <colgroup>
                        <col class="c-num">
                        <col class="c-name">
                        <col class="c-btl">
                        </colgroup>

                        <thead>
                            <tr>
                                <th class="col-num">#</th>
                                <th class="col-ability">Talent</th>
                                <th>Effet en combat</th>
                            </tr>
                        </thead>

                        <tbody>
                            @for (a of list(); track a.id) {
                                <tr>
                                    <td class="col-num" data-label="#">#{{ a.id | number:'2.0-0' }}</td>

                                    <td class="col-name group-end" data-label="Talent">
                                        <a class="ability-name" [routerLink]="['/pokedex/abilities', a.slug]">
                                            {{ a.name }}
                                        </a>
                                    </td>

                                    <td data-label="Combat">
                                        <p class="effect-chip" [innerHTML]="a.battleEffectShort | wikilink:{ kind:'ability', slug:a.slug}"></p>
                                    </td>
                                </tr>
                            }
                        </tbody>
                    </table>
                } @else if (loading()) {
                    <p>Chargement des talentsâ€¦</p>
                }
            </div>
        </div>
    </div>
</div>